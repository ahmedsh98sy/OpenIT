<script>
    let canExit = false;
    let userInteracted = false;

    // ØªØ£ÙƒÙŠØ¯ Ø£Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('click', () => {
        userInteracted = true;
    });

    function disarm() {
        canExit = true;
        window.onbeforeunload = null;
        document.body.innerHTML = "<h1 style='color:green; text-align:center'>âœ… ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¯Ù…ÙŠØ±</h1>";
    }

    function startFullScreen() {
        const docElm = document.documentElement;
        if (docElm.requestFullscreen) {
            docElm.requestFullscreen();
        } else if (docElm.mozRequestFullScreen) {
            docElm.mozRequestFullScreen();
        } else if (docElm.webkitRequestFullscreen) {
            docElm.webkitRequestFullscreen();
        } else if (docElm.msRequestFullscreen) {
            docElm.msRequestFullscreen();
        }
        startCountdown();
    }

    function startCountdown() {
        let seconds = 10;
        document.getElementById('dialog').style.display = 'none';
        const explosion = document.getElementById('explosion');
        explosion.style.display = 'flex';
        const countdownEl = document.createElement('div');
        countdownEl.id = 'countdown';
        countdownEl.textContent = `ðŸ’£ Ø§Ù„ØªØ¯Ù…ÙŠØ± Ø®Ù„Ø§Ù„: ${seconds} Ø«ÙˆØ§Ù†ÙŠ!`;
        explosion.appendChild(countdownEl);

        const timer = setInterval(() => {
            seconds--;
            countdownEl.textContent = `ðŸ’£ Ø§Ù„ØªØ¯Ù…ÙŠØ± Ø®Ù„Ø§Ù„: ${seconds} Ø«ÙˆØ§Ù†ÙŠ!`;
            navigator.vibrate?.(500);
            if (seconds <= 0) {
                clearInterval(timer);
                document.getElementById('boomSound').play();
                countdownEl.style.display = 'none';
            }
        }, 1000);
    }

    // Ù…Ù†Ø¹ Ø§Ù„Ø®Ø±ÙˆØ¬ ÙÙ‚Ø· Ø¨Ø¹Ø¯ Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„ØµÙØ­Ø©
    window.onbeforeunload = function (e) {
        if (!canExit && userInteracted) {
            e.preventDefault();
            e.returnValue = '';
            return '';
        }
    };
</script>
